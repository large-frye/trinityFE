<sidebar options="options" ng-if="options"></sidebar>

<div class="box box-gray">

	<div class="box-body">

		<div class="alert-fixed">
			<div ng-repeat="alert in alerts">
				<div class="alert alert-{{alert.type}}">
					{{alert.content}}
				</div>
			</div>
		</div>

		<form name="inspectionForm" ng-submit="save" class="form-horizontal inspection-form">

			<div class="form-group">
				<h4 class="col-sm-2" style="width:10%">Client Info</h4>
				<div class="alert alert-info col-sm-10" style="margin-top:7px">
					<i class="fa fa-info-circle"></i> You may select an adjuster to pre-fill if the adjuster exists. If not the adjuster
					will be created.
				</div>
			</div>

			<div class="col-sm-4">
				<div class="form-group">
					<label class="col-sm-4 control-label">Select client</label>
					<div class="col-sm-8">
						<select class="form-control select2" ng-model="inspection.adjuster" ng-options="adjuster.title for adjuster in adjusters"></select>
					</div>
					<!-- <div class="col-sm-3">
					<button type="button" class="btn btn-lg btn-primary" ng-click="showModal()">
						Create Client
					</button>
				</div> -->
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">First Name</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.adjuster.profile.first_name" />
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label">Last Name</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.adjuster.profile.last_name" />
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label">Company</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.insurance_company" />
					</div>
				</div>
			</div>

			<div class="col-sm-4">
				<div class="form-group">
					<label class="col-sm-4 control-label">Phone 1</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.phone" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Phone 2</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.phone_1" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Phone 3</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.phone_2" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Email</label>
					<div class="col-sm-8">
						<input type="email" class="form-control" ng-model="inspection.adjuster.email" />
					</div>
				</div>
			</div>

			<div class="col-sm-4">
				<div class="form-group">
					<label class="col-sm-4 control-label">Billing Contact</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.billing_contact" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Billing Client</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.billing_client" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Billing Phone</label>
					<div class="col-sm-8">
						<input type="phone" class="form-control" ng-model="inspection.adjuster.profile.billing_phone" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Billing Email</label>
					<div class="col-sm-8">
						<input type="email" class="form-control" ng-model="inspection.adjuster.profile.billing_email" />
					</div>
				</div>
			</div>

			<div class="col-sm-12">
				<div class="form-group">
					<label for="" class="col-sm-2 control-label">Client Inspection Preferences</label>
					<div class="col-sm-10">
						<textarea class="form-control" ng-model="inspection.adjuster.profile.client_inspection_preferences"></textarea>
					</div>
				</div>
			</div>

			<!-- Inspection Information -->
			<div class="form-group clear">
				<h4>Inspection Information</h4>
			</div>

			<!-- Inspection Information col-1 -->
			<div class="col-sm-6">
				<div class="form-group">
					<label class="col-sm-4 control-label">Date Received</label>
					<div class="col-sm-8">
						<div class="input-group date">
							<div class="input-group-addon">
								<i class="fa fa-calendar"></i>
							</div>
							<date-picker date="inspection.date_received" />
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Date of Loss</label>
					<div class="col-sm-8">
						<div class="input-group date">
							<div class="input-group-addon">
								<i class="fa fa-calendar"></i>
							</div>
							<date-picker date="inspection.date_of_loss" />
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Request Date of Inpsection</label>
					<div class="col-sm-8">
						<div class="input-group date">
							<div class="input-group-addon">
								<i class="fa fa-calendar"></i>
							</div>
							<date-picker date="inspection.requested_date_of_inspection" />
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Request Time of Inpsection</label>
					<div class="col-sm-8">
						<div class="input-group bootstrap-timepicker timepicker">
							<div class="input-group-addon"><i class="fa fa-clock-o"></i></div>
							<time-picker date="inspection.requested_date_of_inspection" time="time" />
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Claim #</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.claim_num" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Policy #</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.policy_num" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Type of Damage</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.damage_type" />
					</div>
				</div>
			</div>

			<div class="col-sm-6">
				<div class="form-group">
					<label class="col-sm-4 control-label">Requested Inspection Type</label>
					<div class="col-sm-6">
						<select class="form-control select2" ng-model="inspection.inspection_type" ng-options="type.name for type in inspectionTypes"></select>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Auto Upgrade</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.auto_upgrade" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.auto_upgrade" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.auto_upgrade" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Adjuster Present</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.adjuster_present" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.adjuster_present" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.adjuster_present" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Is this a Reinspection?</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.is_reinspection" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.is_reinspection" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.is_reinspection" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Reinspection of Trinity?</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.trinity_reinspection" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.trinity_reinspection" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.trinity_reinspection" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Install Tarp If Needed?</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.has_tarp" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.has_tarp" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.has_tarp" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>


				<div class="form-group">
					<label class="col-sm-4 control-label">Scope Interior?</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.scope_interior" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.scope_interior" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.scope_interior" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-4 control-label">Estimate/Scope Requested</label>
					<div class="col-sm-6">
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.estimate_requested" ng-value="true" />
						Yes
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.estimate_requested" ng-value="false" />
						No
					</label>
						<label class="radio-inline">
						<input type="radio" ng-model="inspection.estimate_requested" ng-value="'unknown'" />
						Unknown
					</label>
					</div>
				</div>
			</div>

			<div class="col-sm-12 clear">
				<div class="form-group">
					<label class="col-sm-2 control-label">Special Instruction by Adjuster</label>
					<div class="col-sm-10">
						<textarea class="form-control" ng-model="inspection.special_instructions_adjuster"></textarea>
					</div>
				</div>
			</div>

			<!-- Header -->
			<div class="form-group clear">
				<h4>Insured Information</h4>
			</div>

			<div class="col-sm-8">
				<div class="form-group">
					<label class="col-sm-2 control-label">First Name</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" ng-model="inspection.first_name" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-2 control-label">Last Name</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" ng-model="inspection.last_name" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-2 control-label">Street Address</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" ng-model="inspection.address" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-2 control-label">City</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" ng-model="inspection.city" />
					</div>
				</div>

				<div class="form-group">
					<div class="col-sm-8">
						<label class="col-sm-3 control-label">State</label>
						<div class="col-sm-8">
							<select class="form-control" ng-options="state.name for state in states" class="form-control col-sm-12" ng-model="state"
								ng-change="inspection.state=state.name"></select>
						</div>
					</div>

					<div class="col-sm-4">
						<label class="col-sm-6 control-label">Zip Code</label>
						<div class="col-sm-6">
							<input type="number" class="form-control" ng-model="inspection.zip_code" />
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-4">
				<div class="form-group">
					<label class="col-sm-3 control-label">Phone 1</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" ng-model="inspection.phone_1" data-inputmask="mask" : "(999) 999-9999" " data-mask/>
					</div>
				</div>

				<div class="form-group ">
					<label class="col-sm-3 control-label ">Phone 2</label>
					<div class="col-sm-8 ">
						<input type="phone " class="form-control sm-padding " ng-model="inspection.phone_2 " />
					</div>
				</div>

				<div class="form-group ">
					<label class="col-sm-3 control-label ">Phone 3</label>
					<div class="col-sm-8 ">
						<input type="phone " class="form-control sm-padding " ng-model="inspection.phone_3 " />
					</div>
				</div>

				<div class="form-group ">
					<label for=" " class="col-sm-3 control-label ">Email</label>
					<div class="col-sm-8 "><input type="phone " class="form-control sm-padding " ng-model="inspection.email "></div>
				</div>
			</div>
			<div class="form-group clear ">
				<label class="col-sm-2 control-label ">Special Instruction by Insured</label>
				<div class="col-sm-10 ">
					<textarea class="form-control " ng-model="inspection.special_instructions_insured "></textarea>
				</div>
			</div>

			<!-- Workorder log -->
			<workorder-log ng-if="!newInspection " workorder="inspection "></workorder-log>

			<hr/>

			<button type="submit "" class="btn btn-success" " ng-click="save() ">Save</button>
			<button type="submit "" class="btn btn-success" " ng-click="save( 'close') ">Save & Close</button>
		</form>
	</div>
</div>