<sidebar options="vm.options"></sidebar>

<div class="box box-warning">
	<div class="box-body">
		<div class="alert-fixed">
			<div ng-repeat="alert in vm.alerts">
				<div class="alert alert-{{alert.type}}">
					{{alert.content}}
				</div>
			</div>
		</div>

		<form name="processingForm" ng-submit="save" class="form-horizontal processing-form inspection-form">
			<div class="processing-gray">
				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<label class="col-sm-3 no-set-width control-label">Policy #</label>
							<div class="col-sm-9 processing-content">{{vm.inspection.policy_num}}</div>
						</div>
					</div>

					<div class="col-sm-4">
						<div class="form-group">
							<label class="col-sm-4 no-set-width control-label">Date received</label>
							<div class="col-sm-8 processing-content">
								{{vm.inspection.created_at}}
							</div>
						</div>
					</div>

					<div class="col-sm-4">
						<div class="form-group">
							<label class="col-sm-3 no-set-width control-label">Claim #</label>
							<div class="col-sm-9 processing-content">{{vm.inspection.claim_num}}</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<label class="col-sm-4 no-set-width control-label">Insured Name</label>
							<div class="col-sm-8 processing-content">{{vm.inspection.first_name}} {{vm.inspection.last_name}}</div>
						</div>
					</div>

					<div class="col-sm-4">
						<div class="form-group">
							<label class="col-sm-4 no-set-width control-label">Phone Number</label>
							<div class="col-sm-7 processing-content">{{vm.inspection.phone_1}}</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="col-sm-4 no-set-width control-label">Insured Address</label>
							<div class="col-sm-8 processing-content">{{vm.inspection.address}} {{vm.inspection.city}}, {{vm.inspection.state}} {{vm.inspection.zip}}
							</div>
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-2 no-set-width control-label">Insured Special Instructions</label>
					<div class="col-sm-8 processing-content">
						<p>
							{{vm.inspection.special_instructions_insured}}
						</p>
					</div>
				</div>
			</div>

			<!-- adjutser -->
			<div class="processing-gray margin-top">
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Adjuster Name</label>
							<div class="col-sm-9 processing-content">{{vm.inspection.adjuster.name}}</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Insurance Company</label>
							<div class="col-sm-8 processing-content">{{vm.inspection.adjuster.profile.insurance_company}}</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="col-sm-2 control-label no-set-width">Adjuster Phone</label>
							<div class="col-sm-10 processing-content">{{vm.inspection.adjuster.profile.phone}}</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="col-sm-2 control-label no-set-width">Adjuster Email</label>
							<div class="col-sm-10 processing-content">{{vm.inspection.adjuster.email}}</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Requested Inspection Type</label>
							<div class="col-sm-7 processing-content">{{vm.inspection.inspection_val}}</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Auto Upgrade</label>
							<div class="col-sm-9 processing-content">{{vm.auto_upgrade}}</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Requested Date</label>
							<div class="col-sm-9 processing-content">{{vm.inspection.requested_date_of_inspection | date: 'shortDate'}}</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="col-sm-3 control-label no-set-width">Requested Time</label>
							<div class="col-sm-9 processing-content">{{vm.inspection.requested_date_of_inspection | date: 'hh:mm a'}}</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="col-sm-2 control-label no-set-width">Adjuster Special Instructions:</label>
							<div class="col-sm-8 processing-content">
								<p>
									{{vm.inspection.special_instructions_adjuster}}
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--<div class="box-group" id="accordion">
				<div class="panel box">
					<div class="box-header">
						<h4 class="box-title">
	                        Work order details (Locked)
	                      </a>
						</h4>
					</div>
					<div id="collapseOne" class="panel-collapse collapse" aria-expanded="false">
						
					</div>
				</div>
			</div>-->

			<hr style="margin: 10px 0" />

			<h4>Processing Information</h4>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Progress Status</label>
						<div class="col-sm-8">
							<select ng-model="vm.status" class="form-control" ng-options="status.name for status in vm.statuses" ng-change="vm.setStatus(vm.status)">
							</select>
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Date of last contact</label>
						<div class="col-sm-8">
							<div class="input-group date">
								<div class="input-group-addon">
									<i class="fa fa-calendar"></i>
								</div>
								<date-picker date="vm.inspection.date_of_last_contact" />
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Date of inspection</label>
						<div class="col-sm-8">
							<div class="input-group date">
								<div class="input-group-addon">
									<i class="fa fa-calendar"></i>
								</div>
								<date-picker date="vm.inspection.date_of_inspection" />
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Time of inspection</label>
						<div class="col-sm-8">
							<div class="input-group bootstrap-timepicker timepicker">
								<div class="input-group-addon"><i class="fa fa-clock-o"></i></div>
								<time-picker date="vm.inspection.date_of_inspection" time="vm.time" />
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Inspector</label>
						<div class="col-sm-8">
							<select ng-model="vm.inspector" class="form-control" ng-options="inspector.name for inspector in vm.inspectors" ng-change="vm.setInspector(vm.inspector)">
							</select>
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Date Cancelled</label>
						<div class="input-group date">
							<div class="input-group-addon">
								<i class="fa fa-calendar"></i>
							</div>
							<date-picker date="vm.inspection.date_cancelled" />
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12">
					<div class="form-group">
						<label class="col-sm-2 no-set-width control-label">Special Instructions to Inspector</label>
						<div class="col-sm-9">
							<textarea class="form-control" ng-model="vm.inspection.special_instructions_to_inspector">
							</textarea>
						</div>
					</div>
				</div>
			</div>

			<hr />
			<button type="submit" class="btn btn-success" ng-click="vm.save()">Save</button>
		</form>
	</div>
</div>