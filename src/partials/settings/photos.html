<div class="alert-fixed">
    <div ng-repeat="alert in vm.alerts">
        <div class="alert alert-{{alert.type}}">{{alert.content}}</div>
    </div>
</div>


<div class="box box-info">
    <div class="box-body">
        <h4>{{vm.categoryType}}</h4>
        <h5 ng-if="vm.currentCategory">
            <button class="btn btn-default" ng-click="vm.showCategory1()" style="margin-right:10px;">
                <i class="fa fa-angle-left" /> Back</button>
            Category 1: {{vm.currentCategory.name}}
        </h5>
        <form name="photoSettingsForm" ng-submit="save()" class="form form-horizontal inspection-form">
            <div ng-if="!vm.currentCategory">
                <div class="form-group" ng-repeat="category in vm.settings.categories" ng-init="category$index=category.name">
                    <label for="" class="col-sm-2 control-label">Category Name</label>
                    <div class="col-sm-8">
                        <input type="text" ng-model="category$index" class="form-control" ng-change="category.name=category$index">
                    </div>
                    <div class="col-sm-2"><a href="" ng-click="vm.getSubCategories(category.id);vm.currentCategory=category">
                    View SubCategories</a>
                    </div>
                </div>
                <div class="col-sm-12">
                    <button class="btn btn-success" ng-click="addCategory('parent')">Add Category 1</button>
                </div>
            </div>
            <div ng-if="vm.currentCategory" class="form-group" ng-repeat="subCategory in vm.settings.subCategories[vm.currentCategory.id]"
                ng-init="subCategory$index=subCategory.name">
                <label for="" class="col-sm-2 control-label">Category 2 Name</label>
                <div class="col-sm-8"><input type="text" ng-model="subCategory$index" ng-change="subCategory.name=subCategory$index" class="form-control"></div>
            </div>

            <div class="col-sm-12">
                <hr/>
                <button type="button" ng-click="vm.save()" class="btn btn-success">Save</button>
                <button type="button" ng-click="vm.bulkUpload()" class="btn btn-default" style="margin-left:10px;">Bulk Upload</button>
            </div>
        </form>
    </div>
</div>